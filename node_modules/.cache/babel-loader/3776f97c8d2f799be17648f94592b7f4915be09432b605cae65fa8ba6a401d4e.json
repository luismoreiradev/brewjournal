{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\luism\\\\Desktop\\\\brewjournal\\\\src\\\\pages\\\\Calculador.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport InputGranos from '../components/InputGranos';\nimport Granos from '../components/Granos';\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst axios = require('axios');\nfunction Calculador() {\n  _s();\n  const [allGrains, setAllGrains] = useState([]);\n  const [volumenes, setVolumenes] = useState({});\n  const [multiplo, setMultiplo] = useState(1);\n  const [instrucciones, setInstrucciones] = useState(\"\");\n  function factorConversionUnidades(conversor) {\n    setMultiplo(conversor);\n  }\n  function newVolums(volums) {\n    setVolumenes(volums);\n  }\n  function newGrain(granoIngresado) {\n    setAllGrains(prevVal => {\n      return [...prevVal, granoIngresado];\n    });\n  }\n  let titulo = allGrains.map(a => a.titulo);\n  let nombreGrano = allGrains.map(a => a.nombreGrano);\n  let nombreLupulo = allGrains.map(a => a.nombreLupulo);\n  let cantidadGrano = allGrains.map(a => a.cantidadGrano);\n  let cantidadLupulo = allGrains.map(a => a.cantidadLupulo);\n  let indexGrano = 0;\n  let grain = \"grano\";\n  let grano;\n  let indexLupulo = 0;\n  let hop = \"lupulo\";\n  let lupulo;\n  let indexCantidadGrano = 0;\n  let grainQuantity = \"cantidadGrano\";\n  let granoCantidad;\n  let indexCantidadLupulo = 0;\n  let hopQuantity = \"cantidadLupulo\";\n  let lupuloCantidad;\n  let dataForDataBase = {};\n  function handleChangeInstrucciones(event) {\n    const value = event.target.value;\n    setInstrucciones(value);\n    console.log(instrucciones);\n    /*\r\n    handleUpdateInstrucciones()\r\n    */\n  }\n  /*\r\n  function handleUpdateInstrucciones(instrucciones) {\r\n    console.log(instrucciones);\r\n  }\r\n  */\n\n  function setDataForDB() {\n    dataForDataBase[\"titulo\"] = titulo[0];\n    dataForDataBase[\"instrucciones\"] = instrucciones;\n    nombreGrano.forEach(element => {\n      if (element.length > 0) {\n        indexGrano++;\n        grano = grain.concat(indexGrano);\n        dataForDataBase[grano] = element;\n      }\n    });\n    cantidadGrano.forEach(element => {\n      if (element.length > 0) {\n        indexCantidadGrano++;\n        granoCantidad = grainQuantity.concat(indexCantidadGrano);\n        dataForDataBase[granoCantidad] = element * multiplo;\n      }\n    });\n    nombreLupulo.forEach(element => {\n      if (element.length > 0) {\n        indexLupulo++;\n        lupulo = hop.concat(indexLupulo);\n        dataForDataBase[lupulo] = element;\n      }\n    });\n    cantidadLupulo.forEach(element => {\n      if (element.length > 0) {\n        indexCantidadLupulo++;\n        lupuloCantidad = hopQuantity.concat(indexCantidadLupulo);\n        dataForDataBase[lupuloCantidad] = element * multiplo;\n      }\n    });\n  }\n  setDataForDB();\n  const history = useHistory();\n  const irAhome = () => {\n    let path = `/recetas`;\n    history.push(path);\n    window.location.reload(false);\n  };\n  function guardarReceta() {\n    console.log(dataForDataBase);\n    axios.post(\"http://localhost:3000/recetas\", dataForDataBase).then(function (response) {\n      console.log(\"data guardada\");\n      irAhome();\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Brewery Calculator!!!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(InputGranos, {\n      newGrain: newGrain,\n      newVolums: newVolums\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(Granos, {\n      allGrains: allGrains,\n      volumenes: volumenes,\n      factorConversionUnidades: factorConversionUnidades\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"instrucciones\",\n        children: \"Instrucciones\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        onChange: handleChangeInstrucciones,\n        value: instrucciones,\n        name: \"instrucciones\",\n        rows: \"5\",\n        cols: \"33\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: guardarReceta,\n        children: \"guardar receta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this);\n}\n_s(Calculador, \"/x/XffwqqGwjD8SlZGJKlL6hpBA=\", false, function () {\n  return [useHistory];\n});\n_c = Calculador;\nexport default Calculador;\nvar _c;\n$RefreshReg$(_c, \"Calculador\");","map":{"version":3,"names":["React","useState","InputGranos","Granos","useHistory","jsxDEV","_jsxDEV","axios","require","Calculador","_s","allGrains","setAllGrains","volumenes","setVolumenes","multiplo","setMultiplo","instrucciones","setInstrucciones","factorConversionUnidades","conversor","newVolums","volums","newGrain","granoIngresado","prevVal","titulo","map","a","nombreGrano","nombreLupulo","cantidadGrano","cantidadLupulo","indexGrano","grain","grano","indexLupulo","hop","lupulo","indexCantidadGrano","grainQuantity","granoCantidad","indexCantidadLupulo","hopQuantity","lupuloCantidad","dataForDataBase","handleChangeInstrucciones","event","value","target","console","log","setDataForDB","forEach","element","length","concat","history","irAhome","path","push","window","location","reload","guardarReceta","post","then","response","children","fileName","_jsxFileName","lineNumber","columnNumber","for","onChange","name","rows","cols","onClick","_c","$RefreshReg$"],"sources":["C:/Users/luism/Desktop/brewjournal/src/pages/Calculador.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport InputGranos from '../components/InputGranos';\r\nimport Granos from '../components/Granos';\r\nimport { useHistory } from \"react-router-dom\";\r\nconst axios = require('axios');\r\n\r\n\r\nfunction Calculador() {\r\n\r\n  const [allGrains, setAllGrains]=useState([])\r\nconst [volumenes, setVolumenes]=useState({})\r\nconst [multiplo, setMultiplo]=useState(1)\r\nconst[instrucciones, setInstrucciones]=useState(\"\")\r\n\r\nfunction factorConversionUnidades(conversor){\r\n  setMultiplo(conversor)\r\n}\r\n\r\nfunction newVolums(volums) {\r\n  setVolumenes(volums) \r\n}  \r\n\r\n  function newGrain(granoIngresado){\r\nsetAllGrains(prevVal=>{return [...prevVal,granoIngresado]})  \r\n  }\r\n\r\nlet titulo = allGrains.map(a => a.titulo);\r\nlet nombreGrano = allGrains.map(a => a.nombreGrano);\r\nlet nombreLupulo = allGrains.map(a => a.nombreLupulo);\r\nlet cantidadGrano = allGrains.map(a => a.cantidadGrano);\r\nlet cantidadLupulo = allGrains.map(a => a.cantidadLupulo);\r\n\r\nlet indexGrano=0 \r\nlet grain=\"grano\"\r\nlet grano\r\n\r\nlet indexLupulo=0 \r\nlet hop=\"lupulo\"\r\nlet lupulo\r\n\r\nlet indexCantidadGrano=0 \r\nlet grainQuantity=\"cantidadGrano\"\r\nlet granoCantidad\r\n\r\nlet indexCantidadLupulo=0 \r\nlet hopQuantity=\"cantidadLupulo\"\r\nlet lupuloCantidad\r\n\r\nlet dataForDataBase={}\r\n\r\nfunction handleChangeInstrucciones(event) {\r\n   \r\n  const value = event.target.value;\r\n  setInstrucciones(value)\r\n  console.log(instrucciones);\r\n  /*\r\n  handleUpdateInstrucciones()\r\n  */\r\n}\r\n/*\r\nfunction handleUpdateInstrucciones(instrucciones) {\r\n  console.log(instrucciones);\r\n}\r\n*/\r\n\r\nfunction setDataForDB(){ \r\n    dataForDataBase[\"titulo\"]=titulo[0]\r\n    dataForDataBase[\"instrucciones\"]=instrucciones\r\n    \r\n        nombreGrano.forEach(element => {   \r\n          if (element.length > 0) {\r\n            indexGrano++\r\n            grano=grain.concat(indexGrano)\r\n          dataForDataBase[grano]=element               \r\n          }         \r\n        });\r\n\r\n        cantidadGrano.forEach(element => {   \r\n          if (element.length > 0) {\r\n            indexCantidadGrano++\r\n            granoCantidad=grainQuantity.concat(indexCantidadGrano)\r\n          dataForDataBase[granoCantidad]=element * multiplo            \r\n          }            \r\n        });\r\n\r\n        nombreLupulo.forEach(element => {   \r\n          if (element.length > 0) {\r\n            indexLupulo++\r\n            lupulo=hop.concat(indexLupulo)\r\n          dataForDataBase[lupulo]=element            \r\n          }          \r\n        });\r\n\r\n        cantidadLupulo.forEach(element => {   \r\n          if (element.length > 0) {\r\n            indexCantidadLupulo++\r\n            lupuloCantidad=hopQuantity.concat(indexCantidadLupulo)\r\n          dataForDataBase[lupuloCantidad]=element  * multiplo             \r\n          }         \r\n        });\r\n  }\r\n\r\n \r\n  setDataForDB()\r\n\r\n  \r\n  const history = useHistory();\r\n  const irAhome = () => {\r\n    let path = `/recetas`; \r\n    history.push(path);\r\n    window.location.reload(false)\r\n    };\r\n\r\n\r\nfunction guardarReceta() {\r\n  console.log(dataForDataBase);\r\n     axios.post(\"http://localhost:3000/recetas\",\r\n     dataForDataBase )\r\n   .then(function (response) {\r\n    console.log(\"data guardada\");\r\n    irAhome()\r\n  })\r\n  \r\n  }\r\n\r\n  return (    \r\n    <div>\r\n    <h1>Brewery Calculator!!!</h1>\r\n  <InputGranos newGrain={newGrain} newVolums={newVolums}/>\r\n   <Granos allGrains={allGrains} volumenes={volumenes} factorConversionUnidades={factorConversionUnidades} />\r\n   <form>\r\n    <label for=\"instrucciones\">Instrucciones</label>\r\n    <textarea onChange={handleChangeInstrucciones} value={instrucciones} name=\"instrucciones\" rows=\"5\" cols=\"33\"></textarea>\r\n   </form>\r\n   <div><button onClick={guardarReceta}>guardar receta</button></div>\r\n    </div>\r\n    \r\n  );\r\n}\r\n\r\nexport default Calculador;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}